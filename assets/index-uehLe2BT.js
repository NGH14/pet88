import{r as g,S as F,j as e}from"./index-JgEZXFFe.js";import{u as I,N as H}from"./chunk-WWGJGFF6-DjkZ_t3b.js";import{l as A}from"./vi_VN-Cs_7G4UI.js";import{a as v}from"./index-4nCoxB4W.js";import{S as B,a as u}from"./SubHeader-DBitE5Ql.js";import{F as G}from"./Footer-qcRHcihJ.js";import{A as R}from"./NavBar-DyiOIyIz.js";import{F as n}from"./index--TFoeH5B.js";import{u as E}from"./useTranslation-DRTFNy5h.js";import{C as P,B as V}from"./focus-BCInFMJ7.js";import{L as D}from"./index-Bqu70oAG.js";import{S as f,E as W}from"./index-CSBAjFoC.js";import{D as w}from"./index-BPoPmbFj.js";import{B as j}from"./Breadcrumb-B6q89ZIf.js";import{C as b}from"./index-V3KQFUCC.js";import{T as O}from"./index-Dyl_VqLp.js";import{A as q}from"./index-C8SmOCIu.js";import"./proxy-B8NW4Oew.js";import"./icon-logo-primary-wTGcesre.js";import"./useBreakpoint-DhZIo47Y.js";import"./index-BU4LlcM-.js";import"./dropdown-BzKIIfrw.js";import"./PlusOutlined-C1rw31i6.js";import"./TextArea-Bm8ncQqU.js";import"./getAllowClear-DSFRx4UW.js";import"./index-amrIRppU.js";const z=""+new URL("e10adb13acb1f3da8724a9149a58bd00-DS56pboK.jpg",import.meta.url).href,{Option:m}=f,{Header:U,Content:$,Footer:K}=D,{Meta:J}=b,{RangePicker:Q}=w,{Paragraph:X,Text:_e}=O;function Se(){var y;const{state:Z}=I(),[l,p]=g.useState(!0),{search:t,setSearchList:_}=F(),[i,S]=g.useState(t==null?void 0:t.services),[k]=n.useForm(),c=moment(),T=moment(c).add(1,"M"),M=moment(c).add(1,"W");g.useEffect(()=>{setTimeout(()=>{p(!1)},2e3)},[]);const C=(o,a)=>{const x=new Date(o),d=new Date(a),r=new Date(x.getTime()),N=[];for(;r<=d;)N.push(new Date(r).getTime()),r.setDate(r.getDate()+1);return N},{t:s,i18n:h}=E(),L=async o=>{var d;const a=o==null?void 0:o.city,x=o.datesHotels||((d=o.datesHotels)==null?void 0:d.length)>0?C(o.datesHotels[0],o.datesHotels[1]):[];if(i==="hotel")try{return(await v.post("http://localhost:3001/api/hotel/find-hotel-able",{city:a,dates:x,services:i})).data}catch(r){console.error(r)}else if(i==="grooming")try{return(await v.post("http://localhost:3001/api/hotel/find-grooming-able",{city:a,services:i})).data}catch(r){console.error(r)}},Y=async o=>{p(!0);const a=await L(o);_({foundData:a,services:i,city:o.city,foundNumber:a==null?void 0:a.length,datesHotels:o.datesHotels||null,datesGrooming:o.datesGrooming||null}),p(!1)};return e.jsx("section",{children:e.jsx(P,{locale:h.language==="vi_VN"&&A,children:e.jsxs(D,{className:"hotelLayout",children:[e.jsxs(U,{children:[e.jsx(B,{}),e.jsx(R,{})]}),e.jsx($,{children:e.jsx("section",{className:"hotel-page",children:e.jsxs("section",{className:"hotel-page_containner",children:[e.jsx("section",{className:"hotel-toolbox",children:e.jsxs("section",{children:[e.jsx("h4",{style:{textTransform:"uppercase",fontWeight:700,marginBottom:15},children:s("search")}),e.jsxs(n,{form:k,requiredMark:!1,name:"form_bookingdepartpage",layout:"vertical",initialValues:{city:t==null?void 0:t.city,datesHotels:t.datesHotels&&[moment(t==null?void 0:t.datesHotels[0]),moment(t==null?void 0:t.datesHotels[1])],services:t==null?void 0:t.services,datesGrooming:t.datesGrooming&&moment(t==null?void 0:t.datesGrooming)},onFinish:Y,children:[e.jsx(n.Item,{name:"services",label:s("Services"),children:e.jsxs(f,{onChange:o=>S(o),placeholder:s("Services"),children:[e.jsx(m,{value:"hotel",children:s("Hotel")}),e.jsx(m,{value:"grooming",children:s("Grooming")})]})}),e.jsx(n.Item,{name:"city",placeholder:s("City name"),label:s("City name"),children:e.jsxs(f,{showSearch:!0,filterOption:(o,a)=>((a==null?void 0:a.value)??"").toLowerCase().includes(o.toLowerCase()),className:"form-item_bookingdepartpage",children:[e.jsx(m,{value:"Ho Chi Minh",children:s("Ho Chi Minh")}),e.jsx(m,{value:"Ha Noi",children:s("Ha Noi")}),e.jsx(m,{value:"Da Nang",children:s("Da Nang")})]})}),i==="hotel"?e.jsx(n.Item,{name:"datesHotels",label:s("For these days"),children:e.jsx(Q,{presets:{[s("Today")]:[moment(),moment()],[s("One Week")]:[c,M],[s("One Month")]:[c,T]},placeholder:[s("Drop off"),s("Pick up")],placement:"bottomLeft",className:"form-item_bookingdepartpage",format:h.language==="vi_VN"?"DD-MM-YYYY":null})}):null,i==="grooming"?e.jsx(n.Item,{name:"datesGrooming",label:s("Booking time"),children:e.jsx(w,{className:"form-item_bookingdepartpage",showTime:{format:"HH:mm"},placement:"bottomLeft",format:h.language==="vi_VN"?"HH:mm, DD-MM-YYYY":"HH:mm, YYYY-MM-DD "})}):null,e.jsx(n.Item,{shouldUpdate:!0,style:{width:"100%"},children:e.jsx(V,{type:"primary",block:!0,className:"form-button_bookingdepartpage",htmlType:"submit",children:s("Search")})})]})," "]})}),e.jsxs("section",{className:"hotel-page_content",children:[l?e.jsx(u,{active:!0,shape:"round",loading:l,paragraph:{rows:1}}):e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"hotel-breadcum",children:e.jsxs(j,{separator:">",children:[e.jsx(j.Item,{children:e.jsx(H,{to:"/",children:s("home")})}),e.jsx(j.Item,{children:s("list search")})]})}),e.jsxs("h3",{className:"hotel-page_title",children:[e.jsxs("span",{className:"hotel-page_titlelight",children:[s("Available for")," ",e.jsxs("span",{className:"hotel-page_title",children:[" ",s(i)]})," ",s("in")," "]}),s(t==null?void 0:t.city)]}),e.jsxs("h3",{className:"hotel-page_subtitle",children:[s("found")," ",t==null?void 0:t.foundNumber," ",s("properties")]}),e.jsx(e.Fragment,{})]}),!l&&(t!=null&&t.foundData)?t==null?void 0:t.foundData.map((o,a)=>e.jsx(H,{to:t.services==="hotel"?`/department/${o._id}`:`/grooming/${o._id}`,state:{...o},children:e.jsx(b,{hoverable:!0,style:{borderRadius:15,width:"100%",marginTop:16,boxShadow:"rgb(0 0 0 / 5%) 0px 1px 1px, rgb(0 0 0 / 5%) 0px 2px 2px, rgb(0 0 0 / 5%) 0px 1px 1px, rgb(0 0 0 / 5%) 0px 1px 1px, rgb(0 0 0 / 5%) 0px 2px 10px"},children:e.jsx(u,{active:!0,size:"large",shape:"round",loading:l,avatar:!0,paragraph:{rows:4},children:e.jsx(J,{style:{minHeight:150},avatar:e.jsx(q,{className:"card_avatar",style:{width:300,height:"100%",objectFit:"cover",borderRadius:15},shape:"square",src:o.photos.length>0?o.photos[0]:z}),title:e.jsxs("section",{children:[e.jsx("h3",{className:"card-depart_tilte",children:s(o.name)}),e.jsxs("p",{className:"card-depart_address",children:[s(o.address),", ",s(o.city)]})]}),description:t!=null&&t.days?e.jsxs("section",{className:"card-depart_desc",children:[e.jsx(X,{ellipsis:{rows:4},children:s(o.desc)}),e.jsxs("p",{style:{textAlign:"right"},children:["~",t==null?void 0:t.days]})]}):null})})})},o._id)):Array(4).fill(null).map(()=>e.jsx(b,{style:{borderRadius:15,width:"100%",marginTop:16},children:e.jsx(u,{active:!0,size:"large",shape:"round",loading:l,avatar:!0,paragraph:{rows:4}})})),((y=t==null?void 0:t.foundData)==null?void 0:y.length)===0?e.jsx(W,{}):null]})]})})}),e.jsx(K,{children:e.jsx(G,{})})]})})})}export{Se as default};
