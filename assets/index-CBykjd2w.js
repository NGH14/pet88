import{i as X,m as Y,k as Z,r as l,f as v,C as J,l as T,e as Q,n as ee}from"./index-CXsAr4fj.js";import{i as te,g as oe,P as ne,a as re,b as se,c as ae,u as le,d as ie,T as ce,e as de}from"./focus-CQ_iPNPW.js";import{K as pe}from"./index-DCH3tqKq.js";const h=e=>e?typeof e=="function"?e():e:null,me=e=>{const{componentCls:t,popoverColor:o,titleMinWidth:r,fontWeightStrong:s,innerPadding:n,boxShadowSecondary:c,colorTextHeading:d,borderRadiusLG:i,zIndexPopup:f,titleMarginBottom:C,colorBgElevated:m,popoverBg:g,titleBorderBottom:x,innerContentPadding:u,titlePadding:a}=e;return[{[t]:{...Z(e),position:"absolute",top:0,left:{_skip_check_:!0,value:0},zIndex:f,fontWeight:"normal",whiteSpace:"normal",textAlign:"start",cursor:"auto",userSelect:"text","--valid-offset-x":"var(--arrow-offset-horizontal, var(--arrow-x))",transformOrigin:["var(--valid-offset-x, 50%)","var(--arrow-y, 50%)"].join(" "),"--antd-arrow-background-color":m,width:"max-content",maxWidth:"100vw","&-rtl":{direction:"rtl"},"&-hidden":{display:"none"},[`${t}-content`]:{position:"relative"},[`${t}-container`]:{backgroundColor:g,backgroundClip:"padding-box",borderRadius:i,boxShadow:c,padding:n},[`${t}-title`]:{minWidth:r,marginBottom:C,color:d,fontWeight:s,borderBottom:x,padding:a},[`${t}-content`]:{color:o,padding:u}}},oe(e,"var(--antd-arrow-background-color)"),{[`${t}-pure`]:{position:"relative",maxWidth:"none",margin:e.sizePopupArrow,display:"inline-block"}}]},ge=e=>{const{componentCls:t}=e;return{[t]:ne.map(o=>{const r=e[`${o}6`];return{[`&${t}-${o}`]:{"--antd-arrow-background-color":r,[`${t}-inner`]:{backgroundColor:r},[`${t}-arrow`]:{background:"transparent"}}}})}},ue=e=>{const{lineWidth:t,controlHeight:o,fontHeight:r,padding:s,wireframe:n,zIndexPopupBase:c,borderRadiusLG:d,marginXS:i,lineType:f,colorSplit:C,paddingSM:m}=e,g=o-r,x=g/2,u=g/2-t,a=s;return{titleMinWidth:177,zIndexPopup:c+30,...se(e),...re({contentRadius:d,limitVerticalRadius:!0}),innerPadding:n?0:12,titleMarginBottom:n?0:i,titlePadding:n?`${x}px ${a}px ${u}px`:0,titleBorderBottom:n?`${t}px ${f} ${C}`:"none",innerContentPadding:n?`${m}px ${a}px`:0}},W=X("Popover",e=>{const{colorBgElevated:t,colorText:o}=e,r=Y(e,{popoverBg:t,popoverColor:o});return[me(r),ge(r),te(r,"zoom-big")]},ue,{resetStyle:!1,deprecatedTokens:[["width","titleMinWidth"],["minWidth","titleMinWidth"]]}),z=e=>{const{title:t,content:o,prefixCls:r,classNames:s,styles:n}=e;return!t&&!o?null:l.createElement(l.Fragment,null,t&&l.createElement("div",{className:v(`${r}-title`,s==null?void 0:s.title),style:n==null?void 0:n.title},t),o&&l.createElement("div",{className:v(`${r}-content`,s==null?void 0:s.content),style:n==null?void 0:n.content},o))},fe=e=>{const{hashId:t,prefixCls:o,className:r,style:s,placement:n="top",title:c,content:d,children:i,classNames:f,styles:C}=e,m=h(c),g=h(d),x={...e,placement:n},[u,a]=T([f],[C],{props:x}),N=v(t,o,`${o}-pure`,`${o}-placement-${n}`,r);return l.createElement("div",{className:N,style:s},l.createElement("div",{className:`${o}-arrow`}),l.createElement(ae,{...e,className:t,prefixCls:o,classNames:u,styles:a},i||l.createElement(z,{prefixCls:o,title:m,content:g,classNames:u,styles:a})))},Ce=e=>{const{prefixCls:t,className:o,...r}=e,{getPrefixCls:s}=l.useContext(J),n=s("popover",t),[c,d]=W(n);return l.createElement(fe,{...r,prefixCls:n,hashId:c,className:v(o,d)})},xe=l.forwardRef((e,t)=>{const{prefixCls:o,title:r,content:s,overlayClassName:n,placement:c="top",trigger:d="hover",children:i,mouseEnterDelay:f=.1,mouseLeaveDelay:C=.1,onOpenChange:m,overlayStyle:g={},styles:x,classNames:u,motion:a,arrow:N,...I}=e,{getPrefixCls:S,className:M,style:A,classNames:O,styles:R,arrow:D}=Q("popover"),$=S("popover",o),[H,K]=W($),_=S(),L=le(N,D),j={...e,placement:c,trigger:d,mouseEnterDelay:f,mouseLeaveDelay:C,overlayStyle:g,styles:x,classNames:u},[y,P]=T([O,u],[R,x],{props:j}),F=v(n,H,K,M,y.root),[G,V]=ie(e.defaultOpen??!1,e.open),b=(p,w)=>{V(p),m==null||m(p,w)},q=p=>{p.keyCode===pe.ESC&&b(!1,p)},U=p=>{b(p)},B=h(r),E=h(s);return l.createElement(ce,{unique:!1,arrow:L,placement:c,trigger:d,mouseEnterDelay:f,mouseLeaveDelay:C,...I,prefixCls:$,classNames:{root:F,container:y.container,arrow:y.arrow},styles:{root:{...P.root,...A,...g},container:P.container,arrow:P.arrow},ref:t,open:G,onOpenChange:U,overlay:B||E?l.createElement(z,{prefixCls:$,title:B,content:E,classNames:y,styles:P}):null,motion:{motionName:de(_,"zoom-big",typeof(a==null?void 0:a.motionName)=="string"?a==null?void 0:a.motionName:void 0)},"data-popover-inject":!0},ee(i,{onKeyDown:p=>{var w,k;l.isValidElement(i)&&((k=i==null?void 0:(w=i.props).onKeyDown)==null||k.call(w,p)),q(p)}}))}),ve=xe;ve._InternalPanelDoNotUseOrYouWillBeFired=Ce;export{ve as P,Ce as a,h as g};
