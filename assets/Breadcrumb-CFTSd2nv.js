import{R as me,r as o,C as O,f as E,i as ue,m as de,o as F,p as pe,k as fe,e as ge,l as Ce,n as be}from"./index-CXsAr4fj.js";import{I as q,J as ye,t as L}from"./focus-CQ_iPNPW.js";import{R as xe}from"./index-DCH3tqKq.js";import{D as Se}from"./dropdown-U2XZNVVB.js";const A=me.createContext({}),R=({children:e})=>{const{getPrefixCls:r}=o.useContext(O),t=r("breadcrumb"),n=o.useContext(A),{classNames:s,styles:a}=n;return o.createElement("li",{className:E(`${t}-separator`,s==null?void 0:s.separator),style:a==null?void 0:a.separator,"aria-hidden":"true"},e===""?e:e||"/")};R.__ANT_BREADCRUMB_SEPARATOR=!0;function Ne(e,r){if(e.title===void 0||e.title===null)return null;const t=Object.keys(r).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${t})`,"g"),(n,s)=>r[s]||n)}function K(e,r,t,n){if(t==null)return null;const{className:s,onClick:a,...l}=r,c={...q(l,{data:!0,aria:!0}),onClick:a};return n!==void 0?o.createElement("a",{...c,className:E(`${e}-link`,s),href:n},t):o.createElement("span",{...c,className:E(`${e}-link`,s)},t)}function he(e,r){return(n,s,a,l,c)=>{if(r)return r(n,s,a,l);const i=Ne(n,s);return K(e,n,i,c)}}const U=e=>{const{prefixCls:r,separator:t="/",children:n,menu:s,dropdownProps:a,href:l}=e,c=o.useContext(A),{classNames:i,styles:f}=c,y=(x=>{if(s){const S={...a};if(s){const{items:g,...P}=s||{};S.menu={...P,items:g==null?void 0:g.map(({key:v,title:B,label:T,path:N,...X},d)=>{let m=T??B;return N&&(m=o.createElement("a",{href:`${l}${N}`},m)),{...X,key:v??d,label:m}})}}return o.createElement(Se,{placement:"bottom",...S},o.createElement("span",{className:`${r}-overlay-link`},x,o.createElement(xe,null)))}return x})(n);return ye(y)?o.createElement(o.Fragment,null,o.createElement("li",{className:i==null?void 0:i.item,style:f==null?void 0:f.item},y),t&&o.createElement(R,null,t)):null},V=e=>{const{prefixCls:r,children:t,href:n,...s}=e,{getPrefixCls:a}=o.useContext(O),l=a("breadcrumb",r);return o.createElement(U,{...s,prefixCls:l},K(l,s,t,n))};V.__ANT_BREADCRUMB_ITEM=!0;const Ie=e=>{const{componentCls:r,iconCls:t,calc:n}=e;return{[r]:{...fe(e),color:e.itemColor,fontSize:e.fontSize,[t]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:{color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${F(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:n(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover},...pe(e)},"li:last-child":{color:e.lastItemColor},[`${r}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${r}-link`]:{[`
          > ${t} + span,
          > ${t} + a
        `]:{marginInlineStart:e.marginXXS}},[`${r}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${F(e.paddingXXS)}`,marginInline:n(e.marginXXS).mul(-1).equal(),[`> ${t}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}}}},Ee=e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS}),Re=ue("Breadcrumb",e=>{const r=de(e,{});return Ie(r)},Ee);function $e(e){const{breadcrumbName:r,children:t,...n}=e,s={title:r,...n};return t&&(s.menu={items:t.map(({breadcrumbName:a,...l})=>({...l,title:a}))}),s}function Pe(e,r){return o.useMemo(()=>e||(r?r.map($e):null),[e,r])}const ve=(e,r)=>{if(r===void 0)return r;let t=(r||"").replace(/^\//,"");return Object.keys(e).forEach(n=>{t=t.replace(`:${n}`,e[n])}),t},J=e=>{const{prefixCls:r,separator:t,style:n,className:s,rootClassName:a,routes:l,items:c,children:i,itemRender:f,params:$={},classNames:y,styles:x,...S}=e,{getPrefixCls:g,direction:P,className:v,style:B,classNames:T,styles:N,separator:X}=ge("breadcrumb"),d=t??X??"/";let m;const C=g("breadcrumb",r),[W,G]=Re(C),h=Pe(c,l),Q=o.useMemo(()=>({...e,separator:d}),[e,d]),[M,z]=Ce([T,y],[N,x],{props:Q}),Y=he(C,f);if(h&&h.length>0){const p=[],b=c||l;m=h.map((u,I)=>{const{path:re,key:te,type:ne,menu:_,onClick:oe,className:se,style:ae,separator:le,dropdownProps:ce}=u,D=ve($,re);D!==void 0&&p.push(D);const w=te??I;if(ne==="separator")return o.createElement(R,{key:w},le);const j={},ie=I===h.length-1;_&&(j.menu=_);let{href:H}=u;return p.length&&D!==void 0&&(H=`#/${p.join("/")}`),o.createElement(U,{key:w,...j,...q(u,{data:!0,aria:!0}),className:se,style:ae,dropdownProps:ce,href:H,separator:ie?"":d,onClick:oe,prefixCls:C},Y(u,$,b,p,H))})}else if(i){const p=L(i).length;m=L(i).map((b,u)=>{if(!b)return b;const I=u===p-1;return be(b,{separator:I?"":d,key:u})})}const Z=E(C,v,{[`${C}-rtl`]:P==="rtl"},s,a,M.root,W,G),k={...z.root,...B,...n},ee=o.useMemo(()=>({classNames:M,styles:z}),[M,z]);return o.createElement(A.Provider,{value:ee},o.createElement("nav",{className:Z,style:k,...S},o.createElement("ol",null,m)))};J.Item=V;J.Separator=R;export{J as B};
