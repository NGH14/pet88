import{R as i,r as v,f as d}from"./index-CXsAr4fj.js";import{R as Y}from"./focus-CQ_iPNPW.js";function Z(e){return!!(e.addonBefore||e.addonAfter)}function V(e){return!!(e.prefix||e.suffix||e.allowClear)}function _(e,n,a){const t=n.cloneNode(!0),f=Object.create(e,{target:{value:t},currentTarget:{value:t}});return t.value=a,typeof n.selectionStart=="number"&&typeof n.selectionEnd=="number"&&(t.selectionStart=n.selectionStart,t.selectionEnd=n.selectionEnd),t.setSelectionRange=(...x)=>{n.setSelectionRange(...x)},f}function re(e,n,a,t){if(!a)return;let f=n;if(n.type==="click"){f=_(n,e,""),a(f);return}if(e.type!=="file"&&t!==void 0){f=_(n,e,t),a(f);return}a(f)}function C(){return C=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},C.apply(this,arguments)}const te=i.forwardRef((e,n)=>{var M,T,H;const{inputElement:a,children:t,prefixCls:f,prefix:x,suffix:E,addonBefore:S,addonAfter:N,className:q,style:z,disabled:b,readOnly:B,focused:F,triggerFocus:$,allowClear:l,value:y,handleReset:W,hidden:J,classes:p,classNames:r,dataAttrs:I,styles:u,components:o,onClear:R}=e,G=t??a,K=(o==null?void 0:o.affixWrapper)||"span",L=(o==null?void 0:o.groupWrapper)||"span",Q=(o==null?void 0:o.wrapper)||"span",P=(o==null?void 0:o.groupAddon)||"span",h=v.useRef(null),U=s=>{var c;(c=h.current)!=null&&c.contains(s.target)&&($==null||$())},k=V(e);let m=v.cloneElement(G,{value:y,className:d((M=G.props)==null?void 0:M.className,!k&&(r==null?void 0:r.variant))||null});const D=v.useRef(null);if(i.useImperativeHandle(n,()=>({nativeElement:D.current||h.current})),k){let s=null;if(l){const j=!b&&!B&&y,O=`${f}-clear-icon`,X=typeof l=="object"&&(l!=null&&l.clearIcon)?l.clearIcon:"âœ–";s=i.createElement("button",{type:"button",tabIndex:-1,onClick:w=>{W==null||W(w),R==null||R()},onMouseDown:w=>w.preventDefault(),className:d(O,{[`${O}-hidden`]:!j,[`${O}-has-suffix`]:!!E})},X)}const c=`${f}-affix-wrapper`,g=d(c,{[`${f}-disabled`]:b,[`${c}-disabled`]:b,[`${c}-focused`]:F,[`${c}-readonly`]:B,[`${c}-input-with-clear-btn`]:E&&l&&y},p==null?void 0:p.affixWrapper,r==null?void 0:r.affixWrapper,r==null?void 0:r.variant),A=(E||l)&&i.createElement("span",{className:d(`${f}-suffix`,r==null?void 0:r.suffix),style:u==null?void 0:u.suffix},s,E);m=i.createElement(K,C({className:g,style:u==null?void 0:u.affixWrapper,onClick:U},I==null?void 0:I.affixWrapper,{ref:h}),x&&i.createElement("span",{className:d(`${f}-prefix`,r==null?void 0:r.prefix),style:u==null?void 0:u.prefix},x),m,A)}if(Z(e)){const s=`${f}-group`,c=`${s}-addon`,g=`${s}-wrapper`,A=d(`${f}-wrapper`,s,p==null?void 0:p.wrapper,r==null?void 0:r.wrapper),j=d(g,{[`${g}-disabled`]:b},p==null?void 0:p.group,r==null?void 0:r.groupWrapper);m=i.createElement(L,{className:j,ref:D},i.createElement(Q,{className:A},S&&i.createElement(P,{className:c},S),m,N&&i.createElement(P,{className:c},N)))}return i.cloneElement(m,{className:d((T=m.props)==null?void 0:T.className,q)||null,style:{...(H=m.props)==null?void 0:H.style,...z},hidden:J})});function fe(e,n){return v.useMemo(()=>{let a={};n&&(a.show=typeof n=="object"&&n.formatter?n.formatter:!!n),a={...a,...e};const{show:t,...f}=a;return{...f,show:!!t,showFormatter:typeof t=="function"?t:void 0,strategy:f.strategy||(x=>x.length)}},[e,n])}const ae=e=>{let n;return typeof e=="object"&&(e!=null&&e.clearIcon)?n=e:e&&(n={clearIcon:i.createElement(Y,null)}),n};export{te as B,ae as g,re as r,fe as u};
