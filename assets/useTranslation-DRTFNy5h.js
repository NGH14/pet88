import{r as c,I as k,g as A,a as F,b as R,_ as B,c as J}from"./index-JgEZXFFe.js";function M(){if(console&&console.warn){for(var r,e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];typeof t[0]=="string"&&(t[0]="react-i18next:: ".concat(t[0])),(r=console).warn.apply(r,t)}}var T={};function P(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];typeof e[0]=="string"&&T[e[0]]||(typeof e[0]=="string"&&(T[e[0]]=new Date),M.apply(void 0,e))}function E(r,e,t){r.loadNamespaces(e,function(){if(r.isInitialized)t();else{var a=function u(){setTimeout(function(){r.off("initialized",u)},0),t()};r.on("initialized",a)}})}function U(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=e.languages[0],u=e.options?e.options.fallbackLng:!1,d=e.languages[e.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var n=function(g,f){var v=e.services.backendConnector.state["".concat(g,"|").concat(f)];return v===-1||v===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!n(e.isLanguageChangingTo,r)?!1:!!(e.hasResourceBundle(a,r)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||n(a,r)&&(!u||n(d,r)))}function H(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return P("i18n.languages were undefined or empty",e.languages),!0;var a=e.options.ignoreJSONStructure!==void 0;return a?e.hasLoadedNamespace(r,{precheck:function(d,n){if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&d.services.backendConnector.backend&&d.isLanguageChangingTo&&!n(d.isLanguageChangingTo,r))return!1}}):U(r,e,t)}function z(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(u){return Object.getOwnPropertyDescriptor(r,u).enumerable})),t.push.apply(t,a)}return t}function N(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z(Object(t),!0).forEach(function(a){J(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}var K=function(e,t){var a=c.useRef();return c.useEffect(function(){a.current=e},[e,t]),a.current};function Y(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.i18n,a=c.useContext(k)||{},u=a.i18n,d=a.defaultNS,n=t||u||A();if(n&&!n.reportNamespaces&&(n.reportNamespaces=new F),!n){P("You will need to pass in an i18next instance by using initReactI18next");var y=function(s){return Array.isArray(s)?s[s.length-1]:s},g=[y,{},!1];return g.t=y,g.i18n={},g.ready=!1,g}n.options.react&&n.options.react.wait!==void 0&&P("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=N(N(N({},R()),n.options.react),e),v=f.useSuspense,x=f.keyPrefix,i=r||d||n.options&&n.options.defaultNS;i=typeof i=="string"?[i]:i||["translation"],n.reportNamespaces.addUsedNamespaces&&n.reportNamespaces.addUsedNamespaces(i);var l=(n.isInitialized||n.initializedStoreOnce)&&i.every(function(o){return H(o,n,f)});function m(){return n.getFixedT(null,f.nsMode==="fallback"?i:i[0],x)}var D=c.useState(m),I=B(D,2),C=I[0],h=I[1],O=i.join(),j=K(O),p=c.useRef(!0);c.useEffect(function(){var o=f.bindI18n,s=f.bindI18nStore;p.current=!0,!l&&!v&&E(n,i,function(){p.current&&h(m)}),l&&j&&j!==O&&p.current&&h(m);function w(){p.current&&h(m)}return o&&n&&n.on(o,w),s&&n&&n.store.on(s,w),function(){p.current=!1,o&&n&&o.split(" ").forEach(function(S){return n.off(S,w)}),s&&n&&s.split(" ").forEach(function(S){return n.store.off(S,w)})}},[n,O]);var L=c.useRef(!0);c.useEffect(function(){p.current&&!L.current&&h(m),L.current=!1},[n,x]);var b=[C,n,l];if(b.t=C,b.i18n=n,b.ready=l,l||!l&&!v)return b;throw new Promise(function(o){E(n,i,function(){o()})})}export{Y as u};
