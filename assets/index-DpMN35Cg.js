import{R as m,r as D,j as t}from"./index-CXsAr4fj.js";import{B as d}from"./index.esm-DmvjTwYy.js";import{u as j}from"./chunk-WWGJGFF6-BxffTVdU.js";import{a as c}from"./index-4nCoxB4W.js";import{D as B}from"./Wallpaper-Linz-Doggies-Turquiose-1-Cqqizivk.js";import{u as w}from"./useUUID-Dk4mfm6U.js";import{u as I}from"./useTranslation-BDbXG7tJ.js";import"./iconBase-gXzYL6r0.js";function E(){const[g,f]=m.useState(!0),[r]=I(),l=j().pathname.split("/")[2],p=w(),[S,u]=m.useState([]);D.useEffect(()=>{h()},[]);const h=async()=>{try{const e=await c.put(`http://localhost:3001/api/order/confirm/success/${l}`);u(e.data),await y(e.data),console.log(e.data),f(!1)}catch(e){console.error(e)}},x=(e,o)=>{const s=new Date(e),i=new Date(o),n=new Date(s.getTime()),a=[];for(;n<=i;)a.push(new Date(n).getTime()),n.setDate(n.getDate()+1);return a},y=async e=>{try{if(e.service==="hotel"){const o=x(e.start,e.end);await Promise.all(e.products.map(s=>c.put(`http://localhost:3001/api/hotel-room/availability/${s.roomId}`,{dates:o}).data))}if(e.service==="grooming"){const o=p;await Promise.all(e.products.map(s=>(console.log(s),c.put(`http://localhost:3001/api/grooming/availability/${s.roomId}`,{dates:{name:e==null?void 0:e.name,startDate:e==null?void 0:e.start,endDate:e==null?void 0:e.end,id:o,title:e==null?void 0:e.name,order:e}}).data)))}}catch{}};return t.jsx(t.Fragment,{children:g?t.jsx(LoadingSpinner,{}):t.jsx("section",{style:{backgroundImage:` linear-gradient(rgba(255,255,255,.6), rgba(255,255,255,.4)),url(${B})`},className:"confirmBooking",children:t.jsx("section",{className:"confirmBooking-form",children:t.jsxs("section",{style:{textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[t.jsx(d,{color:"#4BB543",style:{fontSize:50,marginBottom:30}}),t.jsx("h1",{style:{fontWeight:700},children:r("Confirmation Booking Successfully")}),t.jsxs("p",{style:{fontWeight:600,color:"#444"},children:[" ",r(`Booking #${l} are confirmed.
									`)]}),t.jsxs("p",{style:{fontWeight:400,color:"#999",fontStyle:"italic"},children:[" ",r("Thank you for choosing Pet88")]})]})})})})}export{E as default};
