import{R as f,u as h,r as x,d}from"./index-CXsAr4fj.js";const $=()=>f.useReducer(n=>n+1,0),l=["xxl","xl","lg","md","sm","xs"],m=n=>({xs:`(max-width: ${n.screenXSMax}px)`,sm:`(min-width: ${n.screenSM}px)`,md:`(min-width: ${n.screenMD}px)`,lg:`(min-width: ${n.screenLG}px)`,xl:`(min-width: ${n.screenXL}px)`,xxl:`(min-width: ${n.screenXXL}px)`}),b=n=>{const e=n,t=[].concat(l).reverse();return t.forEach((a,o)=>{const r=a.toUpperCase(),s=`screen${r}Min`,i=`screen${r}`;if(!(e[s]<=e[i]))throw new Error(`${s}<=${i} fails : !(${e[s]}<=${e[i]})`);if(o<t.length-1){const c=`screen${r}Max`;if(!(e[i]<=e[c]))throw new Error(`${i}<=${c} fails : !(${e[i]}<=${e[c]})`);const p=`screen${t[o+1].toUpperCase()}Min`;if(!(e[c]<=e[p]))throw new Error(`${c}<=${p} fails : !(${e[c]}<=${e[p]})`)}}),n},v=()=>{const[,n]=h(),e=m(b(n));return f.useMemo(()=>{const t=new Map;let a=-1,o={};return{responsiveMap:e,matchHandlers:{},dispatch(r){return o=r,t.forEach(s=>s(o)),t.size>=1},subscribe(r){return t.size||this.register(),a+=1,t.set(a,r),r(o),a},unsubscribe(r){t.delete(r),t.size||this.unregister()},register(){Object.entries(e).forEach(([r,s])=>{const i=({matches:u})=>{this.dispatch({...o,[r]:u})},c=window.matchMedia(s);typeof(c==null?void 0:c.addEventListener)=="function"&&c.addEventListener("change",i),this.matchHandlers[s]={mql:c,listener:i},i(c)})},unregister(){Object.values(e).forEach(r=>{var i;const s=this.matchHandlers[r];typeof((i=s==null?void 0:s.mql)==null?void 0:i.removeEventListener)=="function"&&s.mql.removeEventListener("change",s==null?void 0:s.listener)}),t.clear()}}},[e])};function w(n=!0,e={}){const t=x.useRef(e),[,a]=$(),o=v();return d(()=>{const r=o.subscribe(s=>{t.current=s,n&&a()});return()=>o.unsubscribe(r)},[]),t.current}export{$ as a,l as r,w as u};
